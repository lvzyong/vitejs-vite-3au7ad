"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vue=require("vue"),_xeUtils=_interopRequireDefault(require("xe-utils")),_conf=_interopRequireDefault(require("../../v-x-e-table/src/conf")),_vXETable=require("../../v-x-e-table"),_utils=require("../../tools/utils"),_vn=require("../../tools/vn"),_render=require("./render"),_util=require("./util");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,i=1,l=arguments.length;i<l;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},VxeFormConfigItem=(0,_vue.defineComponent)({name:"VxeFormConfigItem",props:{itemConfig2:Object,itemConfig:Object},setup:function(w){var A=(0,_vue.inject)("$xeform",{}),e={itemConfig:w.itemConfig};(0,_vue.provide)("$xeformiteminfo",e),(0,_vue.provide)("$xeformgather",null);return{renderVN:function(){var e=A.reactData,t=A.props,i=t.data,l=t.rules,n=t.span,r=t.align,o=t.titleAlign,s=t.titleWidth,u=t.titleColon,a=t.titleAsterisk,f=t.titleOverflow,d=A.getComputeMaps().computeValidOpts,c=w.itemConfig,v=e.collapseAll,_=d.value,m=c.slots,g=c.title,x=c.visible,p=c.folding,h=c.field,C=c.collapseNode,N=c.itemRender,q=c.showError,U=c.errRule,O=c.className,b=c.titleOverflow,F=c.children,V=(0,_utils.isEnableConf)(N)?_vXETable.VXETable.renderer.get(N.name):null,t=V?V.itemClassName:"",e=m?m.default:null,d=m?m.title:null,m=c.span||n,n=c.align||r,r=_xeUtils.default.eqNull(c.titleAlign)?o:c.titleAlign,o=_xeUtils.default.eqNull(c.titleWidth)?s:c.titleWidth,s=_xeUtils.default.eqNull(c.titleColon)?u:c.titleColon,u=_xeUtils.default.eqNull(c.titleAsterisk)?a:c.titleAsterisk,a=_xeUtils.default.isUndefined(b)||_xeUtils.default.isNull(b)?f:b,f="title"===a,b=!0===a||"tooltip"===a,a=f||b||"ellipsis"===a,y={data:i,field:h,property:h,item:c,$form:A};if(!1===x)return(0,_vue.createCommentVNode)();x=!1;if(!l||(l=l[h])&&(x=l.some(function(e){return e.required})),F&&0<F.length){var T=F.map(function(e,t){return(0,_vue.h)(VxeFormConfigItem,{key:t,itemConfig:e})});return T.length?(0,_vue.h)("div",{class:["vxe-form--gather vxe-row",c.id,m?"vxe-col--".concat(m," is--span"):"",O?_xeUtils.default.isFunction(O)?O(y):O:""]},T):(0,_vue.createCommentVNode)()}T=[];e?T=A.callSlot(e,y):V&&V.renderItemContent?T=(0,_vn.getSlotVNs)(V.renderItemContent(N,y)):h&&(T=[_xeUtils.default.toValueString(_xeUtils.default.get(i,h))]),C&&T.push((0,_vue.h)("div",{class:"vxe-form--item-trigger-node",onClick:A.toggleCollapseEvent},[(0,_vue.h)("span",{class:"vxe-form--item-trigger-text"},v?_conf.default.i18n("vxe.form.unfolding"):_conf.default.i18n("vxe.form.folding")),(0,_vue.h)("i",{class:["vxe-form--item-trigger-icon",v?_conf.default.icon.FORM_FOLDING:_conf.default.icon.FORM_UNFOLDING]})])),U&&_.showMessage&&T.push((0,_vue.h)("div",{class:"vxe-form--item-valid",style:U.maxWidth?{width:"".concat(U.maxWidth,"px")}:null},U.content));b=b?{onMouseenter:function(e){A.triggerTitleTipEvent(e,y)},onMouseleave:A.handleTitleTipLeaveEvent}:{};return(0,_vue.h)("div",{class:["vxe-form--item",c.id,m?"vxe-col--".concat(m," is--span"):"",O?_xeUtils.default.isFunction(O)?O(y):O:"",t?_xeUtils.default.isFunction(t)?t(y):t:"",{"is--title":g,"is--colon":s,"is--asterisk":u,"is--required":x,"is--hidden":p&&v,"is--active":(0,_util.isActivetem)(A,c),"is--error":q}],itemConfig:c,key:c.id},[(0,_vue.h)("div",{class:"vxe-form--item-inner"},[g||d?(0,_vue.h)("div",__assign({class:["vxe-form--item-title",r?"align--".concat(r):null,{"is--ellipsis":a}],style:o?{width:isNaN(o)?o:"".concat(o,"px")}:null,title:f?(0,_utils.getFuncText)(g):null},b),(0,_render.renderTitle)(A,c)):null,(0,_vue.h)("div",{class:["vxe-form--item-content",n?"align--".concat(n):null]},T)])])}}},render:function(){return this.renderVN()}}),_default=VxeFormConfigItem;exports.default=_default;